import { parseXMLToQueueAccess } from "./parse-xml-to-queue-access";


describe('Parse XML Queue Access', () => {
  it('should handle response body', () => {
    const bodyPayload = '<QueueAccessRS xmlns="http://webservices.sabre.com/sabreXML/2011/10" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:stl="http://services.sabre.com/STL/v01" Version="2.1.0"><stl:ApplicationResults status="Complete"><stl:Success timeStamp="2025-02-17T21:00:26Z"/></stl:ApplicationResults><Line><DateTime>2024-05-15T13:24</DateTime><POS><Source AgentSine="A41" PseudoCityCode="8AYC"/></POS><UniqueID ID="AHDPHV"/></Line><Paragraph><Text>011  SEE REMARKS</Text><Text>1.1CALLAUVILLAR/PAUL MR  2.1VILLARVENEGAS/MARIACRISTINA MRS</Text><Text>TKT/TIME LIMIT</Text><Text>1.T-29OCT-8AYC*A41</Text><Text>PHONES</Text><Text>1.TRC871 7222911-A</Text><Text>2.TRC52-871-7221797-B</Text><Text>3.TRC871 7222911-A</Text><Text>PASSENGER EMAIL DATA EXISTS  *PE TO DISPLAY ALL</Text><Text>CUSTOMER NUMBER - 421003</Text><Text>INVOICED</Text><Text>ADDRESS</Text><Text>CORPORATIVO GALES SA DE CV</Text><Text>CALZADA PROLONGACION COLON 37</Text><Text>COL. LOS ANGELES</Text><Text>TORREON, COA C.P. 27140</Text><Text>PRICE QUOTE RECORD EXISTS - SYSTEM/MANUAL</Text><Text>TRAVEL POLICY -</Text><Text>¤ AGENCY POLICY</Text><Text>FREQUENT TRAVELER DATA EXISTS *FF TO DISPLAY ALL</Text><Text>PROFILE,POLICY,AND/OR PREFERENCE INDEX DATA EXIST</Text><Text>*PI TO DISPLAY ALL</Text><Text>AA FACTS</Text><Text>1.SSR OTHS 1S PLS ADV TKT BY 17MAY 1324 TRC OR PNR WILL BE CN</Text><Text>L</Text><Text>2.SSR OTHS 1S IF FARE RULE TL DIFFERS FROM AUTO TL</Text><Text>3.SSR OTHS 1S MOST RESTRICTIVE TL WILL APPLY</Text><Text>4.SSR OTHS 1S PAX TRAVELLING THROUGH MX A TRANSIT VISA IS REQ</Text><Text>UIRED</Text><Text>5.SSR OTHS 1S SEE TIMATIC FOR MORE DETAILS</Text><Text>6.OSI 1S *** PREV TIME FOR AM 107I 08FEB TRCMEX  123P  310P</Text><Text>7.OSI 1S *** PREV TIME FOR AM 106I 12FEB MEXTRC  345P  533P</Text><Text>8.SSR OTHS 1S SYNCH MISMATCH OR SUBJECT TO DEBIT MEMO</Text><Text>9.SSR OTHS 1S VCR MISMATCH DETECTED RESOLVE BY 30OCT24 1134TR</Text><Text>C</Text><Text>10.SSR OTHS 1S 1393708855051 COUP1 FLT 107 VS 105 CLS I VS D D</Text><Text>EP 08FEB</Text><Text>11.SSR OTHS 1S VS03FEB SEG1</Text><Text>12.SSR OTHS 1S 1393708855052 COUP1 FLT 107 VS 105 CLS I VS D</Text><Text>13.SSR OTHS 1S DEP08FEB VS 03FEB SEG1</Text><Text>14.SSR OTHS 1S PLS ADV TKT BY 31OCT 1134 TRC OR PNR WILL BE CN</Text><Text>L</Text><Text>15.OSI 1S *** PREV TIME FOR AM 382D 03FEB MEXSJD  110P  240P</Text><Text>16.OSI 1S *** PREV TIME FOR AM 385I 10FEB SJDMEX  333P  655P</Text><Text>17.OSI 1S *** PREV TIME FOR AM 106I 12FEB MEXTRC  410P  603P</Text><Text>GENERAL FACTS</Text><Text>1.OSI YY IATA 86507153 CORPORATIVO GALES PCC 8AYC</Text><Text>2.OSI YY IATA 86507153 CORPORATIVO GALES PCC 8AYC</Text><Text>9.SSR CTCE AM HK1/PAULCALLAU//HOTMAIL.COM</Text><Text>REMARKS</Text><Text>1.NO OLVIDE REVISAR SUS DOCUMENTOS ANTES DE SU VIAJE</Text><Text>2.SU PASAPORTE DEBE TENER UNA VALIDEZ DE POR LO MENOS</Text><Text>3.6 MESES ADICIONALES A SU FECHA DE REGRESO</Text><Text>4.EN CASO DE QUE NO VAYA A VIAJAR, EN LA FECHA SENALADA</Text><Text>5.ES NECESARIO INFORMAR  A LA AEROLINEA PARA NO PERDER</Text><Text>6.EL VALOR DE SU BOLETO</Text><Text>7.**LE SUGERIMOS HACER CHECK IN 24 HRS ANTES DE SU SALIDA**</Text><Text>8.EN VUELOS NACIONALES FAVOR DE PRESENTARSE 2 HRS ANTES</Text><Text>9.EN VUELOS INTERNACIONALES FAVOR DE PRESENTARSE 3 HRS</Text><Text>10.ANTES, PRESENTARSE CON IDENTIFICACION OFICIAL</Text><Text>11.EN CORPORATIVO GALES AGRADECEMOS SU PREFERENCIA</Text><Text>12.GRACIAS</Text><Text>13./ZULOAGA 424 LOS ANGELES</Text><Text>14./27140 TORROEN CA</Text><Text>15./MX</Text><Text>16..AG-41</Text><Text>17..AC06SRA TITINA</Text><Text>18.NO OLVIDE REVISAR SUS DOCUMENTOS ANTES DE SU VIAJE</Text><Text>19.SU PASAPORTE DEBE TENER UNA VALIDEZ DE POR LO MENOS</Text><Text>20.6 MESES ADICIONALES A SU FECHA DE REGRESO</Text><Text>21.EN CASO DE QUE NO VAYA A VIAJAR, EN LA FECHA SENALADA</Text><Text>22.ES NECESARIO INFORMAR  A LA AEROLINEA PARA NO PERDER</Text><Text>23.EL VALOR DE SU BOLETO</Text><Text>24.**LE SUGERIMOS HACER CHECK IN 24 HRS ANTES DE SU SALIDA**</Text><Text>25.EN VUELOS NACIONALES FAVOR DE PRESENTARSE 2 HRS ANTES</Text><Text>26.EN VUELOS INTERNACIONALES FAVOR DE PRESENTARSE 3 HRS</Text><Text>27.ANTES, PRESENTARSE CON IDENTIFICACION OFICIAL</Text><Text>28.EN CORPORATIVO GALES AGRADECEMOS SU PREFERENCIA</Text><Text>29.GRACIAS</Text><Text>30..CS01-CXSTPV-500-1552</Text><Text>31..MP-PUE</Text><Text>32..UCFDI-S01</Text><Text>33..REGFISREC-616</Text><Text>34.H-AUTH-SNTR/VI1552/15MAY/01951715797795977256</Text><Text>35.H-  AUTH-APV/095744/00/MXN19348</Text><Text>36.H-  AUTH-CSC NOT SUPPLIED/</Text><Text>37.H-  AUTH-AVS NOT SUPPLIED/</Text><Text>38.XXTAW8AYC17MAY110/0400A/</Text><Text>39.H-AUTH-SNTR/VI1552/29OCT/01031730244854873291</Text><Text>40.H-  AUTH-APV/041642/00/MXN2862</Text><Text>41.H-  AUTH-CSC NOT SUPPLIED/</Text><Text>42.H-  AUTH-AVS NOT SUPPLIED/</Text><Text>44.H-AEBT/1393488840744/8AYC*A41/8AYC*A41</Text><Text>45.H-AUTH-SNTR/VI1552/29OCT/01921730244920432549</Text><Text>46.H-  AUTH-APV/052114/00/MXN2862</Text><Text>47.H-  AUTH-CSC NOT SUPPLIED/</Text><Text>48.H-  AUTH-AVS NOT SUPPLIED/</Text><Text>50.H-AEBT/1393488840745/8AYC*A41/8AYC*A41</Text><Text>ACCOUNTING DATA</Text><Text>1.  AM3708855051/     72/       7162/     34/D1146/D1332/ONE</Text><Text>/CCVI4915736003281552 1.1CALLAUVILLAR PAUL MR/1/D/E</Text><Text>2.  AM3708855052/     72/       7162/     34/D1146/D1332/ONE</Text><Text>/CCVI4915736003281552 2.1VILLARVENEGAS MARIACRISTINA M/1/</Text><Text>D/E</Text><Text>3.  AM3488840744/     20/       2030/      0/D325/D507/ONE/C</Text><Text>CVI4915736003281552 1.1CALLAUVILLAR PAUL /1/D/E-13937088</Text><Text>55051/12</Text><Text>4.  AM3488840745/     20/       2030/      0/D325/D507/ONE/C</Text><Text>CVI4915736003281552 2.1VILLARVENEGAS MARI/1/D/E-13937088</Text><Text>55052/12</Text><Text>RECEIVED FROM - SRA TITINA/BM</Text><Text>8AYC.8AYC*A41 1324/15MAY24 AHDPHV H</Text></Paragraph></QueueAccessRS>'
    const response = parseXMLToQueueAccess(bodyPayload);
    // console.dir(queueCountSuccessResponse, { depth: null })
    expect(response).toEqual({
      applicationResults: {
        success: { timeStamp: '2025-02-17T21:00:26Z' },
        status: 'Complete'
      },
      line: {
        dateTime: '2024-05-15T13:24',
        pOS: { source: { agentSine: 'A41', pseudoCityCode: '8AYC' } },
        uniqueID: { iD: 'AHDPHV' }
      },
      paragraph: {
        text: [
          '011  SEE REMARKS',
          '1.1CALLAUVILLAR/PAUL MR  2.1VILLARVENEGAS/MARIACRISTINA MRS',
          'TKT/TIME LIMIT',
          '1.T-29OCT-8AYC*A41',
          'PHONES',
          '1.TRC871 7222911-A',
          '2.TRC52-871-7221797-B',
          '3.TRC871 7222911-A',
          'PASSENGER EMAIL DATA EXISTS  *PE TO DISPLAY ALL',
          'CUSTOMER NUMBER - 421003',
          'INVOICED',
          'ADDRESS',
          'CORPORATIVO GALES SA DE CV',
          'CALZADA PROLONGACION COLON 37',
          'COL. LOS ANGELES',
          'TORREON, COA C.P. 27140',
          'PRICE QUOTE RECORD EXISTS - SYSTEM/MANUAL',
          'TRAVEL POLICY -',
          '¤ AGENCY POLICY',
          'FREQUENT TRAVELER DATA EXISTS *FF TO DISPLAY ALL',
          'PROFILE,POLICY,AND/OR PREFERENCE INDEX DATA EXIST',
          '*PI TO DISPLAY ALL',
          'AA FACTS',
          '1.SSR OTHS 1S PLS ADV TKT BY 17MAY 1324 TRC OR PNR WILL BE CN',
          'L',
          '2.SSR OTHS 1S IF FARE RULE TL DIFFERS FROM AUTO TL',
          '3.SSR OTHS 1S MOST RESTRICTIVE TL WILL APPLY',
          '4.SSR OTHS 1S PAX TRAVELLING THROUGH MX A TRANSIT VISA IS REQ',
          'UIRED',
          '5.SSR OTHS 1S SEE TIMATIC FOR MORE DETAILS',
          '6.OSI 1S *** PREV TIME FOR AM 107I 08FEB TRCMEX  123P  310P',
          '7.OSI 1S *** PREV TIME FOR AM 106I 12FEB MEXTRC  345P  533P',
          '8.SSR OTHS 1S SYNCH MISMATCH OR SUBJECT TO DEBIT MEMO',
          '9.SSR OTHS 1S VCR MISMATCH DETECTED RESOLVE BY 30OCT24 1134TR',
          'C',
          '10.SSR OTHS 1S 1393708855051 COUP1 FLT 107 VS 105 CLS I VS D D',
          'EP 08FEB',
          '11.SSR OTHS 1S VS03FEB SEG1',
          '12.SSR OTHS 1S 1393708855052 COUP1 FLT 107 VS 105 CLS I VS D',
          '13.SSR OTHS 1S DEP08FEB VS 03FEB SEG1',
          '14.SSR OTHS 1S PLS ADV TKT BY 31OCT 1134 TRC OR PNR WILL BE CN',
          'L',
          '15.OSI 1S *** PREV TIME FOR AM 382D 03FEB MEXSJD  110P  240P',
          '16.OSI 1S *** PREV TIME FOR AM 385I 10FEB SJDMEX  333P  655P',
          '17.OSI 1S *** PREV TIME FOR AM 106I 12FEB MEXTRC  410P  603P',
          'GENERAL FACTS',
          '1.OSI YY IATA 86507153 CORPORATIVO GALES PCC 8AYC',
          '2.OSI YY IATA 86507153 CORPORATIVO GALES PCC 8AYC',
          '9.SSR CTCE AM HK1/PAULCALLAU//HOTMAIL.COM',
          'REMARKS',
          '1.NO OLVIDE REVISAR SUS DOCUMENTOS ANTES DE SU VIAJE',
          '2.SU PASAPORTE DEBE TENER UNA VALIDEZ DE POR LO MENOS',
          '3.6 MESES ADICIONALES A SU FECHA DE REGRESO',
          '4.EN CASO DE QUE NO VAYA A VIAJAR, EN LA FECHA SENALADA',
          '5.ES NECESARIO INFORMAR  A LA AEROLINEA PARA NO PERDER',
          '6.EL VALOR DE SU BOLETO',
          '7.**LE SUGERIMOS HACER CHECK IN 24 HRS ANTES DE SU SALIDA**',
          '8.EN VUELOS NACIONALES FAVOR DE PRESENTARSE 2 HRS ANTES',
          '9.EN VUELOS INTERNACIONALES FAVOR DE PRESENTARSE 3 HRS',
          '10.ANTES, PRESENTARSE CON IDENTIFICACION OFICIAL',
          '11.EN CORPORATIVO GALES AGRADECEMOS SU PREFERENCIA',
          '12.GRACIAS',
          '13./ZULOAGA 424 LOS ANGELES',
          '14./27140 TORROEN CA',
          '15./MX',
          '16..AG-41',
          '17..AC06SRA TITINA',
          '18.NO OLVIDE REVISAR SUS DOCUMENTOS ANTES DE SU VIAJE',
          '19.SU PASAPORTE DEBE TENER UNA VALIDEZ DE POR LO MENOS',
          '20.6 MESES ADICIONALES A SU FECHA DE REGRESO',
          '21.EN CASO DE QUE NO VAYA A VIAJAR, EN LA FECHA SENALADA',
          '22.ES NECESARIO INFORMAR  A LA AEROLINEA PARA NO PERDER',
          '23.EL VALOR DE SU BOLETO',
          '24.**LE SUGERIMOS HACER CHECK IN 24 HRS ANTES DE SU SALIDA**',
          '25.EN VUELOS NACIONALES FAVOR DE PRESENTARSE 2 HRS ANTES',
          '26.EN VUELOS INTERNACIONALES FAVOR DE PRESENTARSE 3 HRS',
          '27.ANTES, PRESENTARSE CON IDENTIFICACION OFICIAL',
          '28.EN CORPORATIVO GALES AGRADECEMOS SU PREFERENCIA',
          '29.GRACIAS',
          '30..CS01-CXSTPV-500-1552',
          '31..MP-PUE',
          '32..UCFDI-S01',
          '33..REGFISREC-616',
          '34.H-AUTH-SNTR/VI1552/15MAY/01951715797795977256',
          '35.H-  AUTH-APV/095744/00/MXN19348',
          '36.H-  AUTH-CSC NOT SUPPLIED/',
          '37.H-  AUTH-AVS NOT SUPPLIED/',
          '38.XXTAW8AYC17MAY110/0400A/',
          '39.H-AUTH-SNTR/VI1552/29OCT/01031730244854873291',
          '40.H-  AUTH-APV/041642/00/MXN2862',
          '41.H-  AUTH-CSC NOT SUPPLIED/',
          '42.H-  AUTH-AVS NOT SUPPLIED/',
          '44.H-AEBT/1393488840744/8AYC*A41/8AYC*A41',
          '45.H-AUTH-SNTR/VI1552/29OCT/01921730244920432549',
          '46.H-  AUTH-APV/052114/00/MXN2862',
          '47.H-  AUTH-CSC NOT SUPPLIED/',
          '48.H-  AUTH-AVS NOT SUPPLIED/',
          '50.H-AEBT/1393488840745/8AYC*A41/8AYC*A41',
          'ACCOUNTING DATA',
          "1.  AM3708855051/     72/       7162/     34/D1146/D1332/ONE",
          "/CCVI4915736003281552 1.1CALLAUVILLAR PAUL MR/1/D/E",
          "2.  AM3708855052/     72/       7162/     34/D1146/D1332/ONE",
          "/CCVI4915736003281552 2.1VILLARVENEGAS MARIACRISTINA M/1/",
          "D/E",
          "3.  AM3488840744/     20/       2030/      0/D325/D507/ONE/C",
          "CVI4915736003281552 1.1CALLAUVILLAR PAUL /1/D/E-13937088",
          "55051/12",
          "4.  AM3488840745/     20/       2030/      0/D325/D507/ONE/C",
          "CVI4915736003281552 2.1VILLARVENEGAS MARI/1/D/E-13937088",
          "55052/12",
          "RECEIVED FROM - SRA TITINA/BM",
          "8AYC.8AYC*A41 1324/15MAY24 AHDPHV H"
        ]
      }
    })
  });
});